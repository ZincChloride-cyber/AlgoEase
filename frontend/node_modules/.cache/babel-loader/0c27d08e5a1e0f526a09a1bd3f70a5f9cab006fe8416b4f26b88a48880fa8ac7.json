{"ast":null,"code":"import IntDecoding from '../../types/intDecoding';\n/**\r\n * Base abstract class for JSON requests.\r\n *\r\n * Data: The type returned from the `do()` method\r\n *\r\n * Body: The structure of the response's body\r\n */\nexport default class JSONRequest {\n  /**\r\n   * @param client - HTTPClient object.\r\n   * @param intDecoding - The method to use\r\n   *   for decoding integers from this request's response. See the setIntDecoding method for more\r\n   *   details.\r\n   */\n  constructor(client, intDecoding) {\n    this.c = client;\n    this.query = {};\n    this.intDecoding = intDecoding || IntDecoding.DEFAULT;\n  }\n  /**\r\n   * Prepare a JSON response before returning it.\r\n   *\r\n   * Use this method to change and restructure response\r\n   * data as needed after receiving it from the `do()` method.\r\n   * @param body - Response body received\r\n   * @category JSONRequest\r\n   */\n  // eslint-disable-next-line class-methods-use-this\n  prepare(body) {\n    return body;\n  }\n  /**\r\n   * Execute the request.\r\n   * @param headers - Additional headers to send in the request. Optional.\r\n   * @returns A promise which resolves to the parsed response data.\r\n   * @category JSONRequest\r\n   */\n  async do(headers = {}) {\n    const jsonOptions = {};\n    if (this.intDecoding !== 'default') {\n      jsonOptions.intDecoding = this.intDecoding;\n    }\n    const res = await this.c.get(this.path(), this.query, headers, jsonOptions);\n    return this.prepare(res.body);\n  }\n  /**\r\n   * Execute the request, but do not process the response data in any way.\r\n   * @param headers - Additional headers to send in the request. Optional.\r\n   * @returns A promise which resolves to the raw response data, exactly as returned by the server.\r\n   * @category JSONRequest\r\n   */\n  async doRaw(headers = {}) {\n    const res = await this.c.get(this.path(), this.query, headers, {}, false);\n    return res.body;\n  }\n  /**\r\n   * Configure how integers in this request's JSON response will be decoded.\r\n   *\r\n   * The options are:\r\n   * * \"default\": Integers will be decoded according to JSON.parse, meaning they will all be\r\n   *   Numbers and any values greater than Number.MAX_SAFE_INTEGER will lose precision.\r\n   * * \"safe\": All integers will be decoded as Numbers, but if any values are greater than\r\n   *   Number.MAX_SAFE_INTEGER an error will be thrown.\r\n   * * \"mixed\": Integers will be decoded as Numbers if they are less than or equal to\r\n   *   Number.MAX_SAFE_INTEGER, otherwise they will be decoded as BigInts.\r\n   * * \"bigint\": All integers will be decoded as BigInts.\r\n   *\r\n   * @param method - The method to use when parsing the\r\n   *   response for this request. Must be one of \"default\", \"safe\", \"mixed\", or \"bigint\".\r\n   * @category JSONRequest\r\n   */\n  setIntDecoding(method) {\n    if (method !== 'default' && method !== 'safe' && method !== 'mixed' && method !== 'bigint') throw new Error(`Invalid method for int decoding: ${method}`);\n    this.intDecoding = method;\n    return this;\n  }\n}","map":{"version":3,"names":["IntDecoding","JSONRequest","constructor","client","intDecoding","c","query","DEFAULT","prepare","body","do","headers","jsonOptions","res","get","path","doRaw","setIntDecoding","method","Error"],"sources":["C:\\Users\\Aditya singh\\AlgoEase\\frontend\\node_modules\\algosdk\\src\\client\\v2\\jsonrequest.ts"],"sourcesContent":["import HTTPClient from '../client';\r\nimport IntDecoding from '../../types/intDecoding';\r\n\r\n/**\r\n * Base abstract class for JSON requests.\r\n *\r\n * Data: The type returned from the `do()` method\r\n *\r\n * Body: The structure of the response's body\r\n */\r\nexport default abstract class JSONRequest<\r\n  Data = Record<string, any>,\r\n  Body = Data | Uint8Array\r\n> {\r\n  c: HTTPClient;\r\n  query: Record<string, any>;\r\n  intDecoding: IntDecoding;\r\n\r\n  /**\r\n   * @param client - HTTPClient object.\r\n   * @param intDecoding - The method to use\r\n   *   for decoding integers from this request's response. See the setIntDecoding method for more\r\n   *   details.\r\n   */\r\n  constructor(client: HTTPClient, intDecoding?: IntDecoding) {\r\n    this.c = client;\r\n    this.query = {};\r\n    this.intDecoding = intDecoding || IntDecoding.DEFAULT;\r\n  }\r\n\r\n  /**\r\n   * @returns The path of this request.\r\n   * @category JSONRequest\r\n   */\r\n  abstract path(): string;\r\n\r\n  /**\r\n   * Prepare a JSON response before returning it.\r\n   *\r\n   * Use this method to change and restructure response\r\n   * data as needed after receiving it from the `do()` method.\r\n   * @param body - Response body received\r\n   * @category JSONRequest\r\n   */\r\n  // eslint-disable-next-line class-methods-use-this\r\n  prepare(body: Body): Data {\r\n    return (body as unknown) as Data;\r\n  }\r\n\r\n  /**\r\n   * Execute the request.\r\n   * @param headers - Additional headers to send in the request. Optional.\r\n   * @returns A promise which resolves to the parsed response data.\r\n   * @category JSONRequest\r\n   */\r\n  async do(headers: Record<string, any> = {}): Promise<Data> {\r\n    const jsonOptions: Record<string, any> = {};\r\n    if (this.intDecoding !== 'default') {\r\n      jsonOptions.intDecoding = this.intDecoding;\r\n    }\r\n    const res = await this.c.get(this.path(), this.query, headers, jsonOptions);\r\n    return this.prepare(res.body);\r\n  }\r\n\r\n  /**\r\n   * Execute the request, but do not process the response data in any way.\r\n   * @param headers - Additional headers to send in the request. Optional.\r\n   * @returns A promise which resolves to the raw response data, exactly as returned by the server.\r\n   * @category JSONRequest\r\n   */\r\n  async doRaw(headers: Record<string, any> = {}): Promise<Uint8Array> {\r\n    const res = await this.c.get(this.path(), this.query, headers, {}, false);\r\n    return res.body;\r\n  }\r\n\r\n  /**\r\n   * Configure how integers in this request's JSON response will be decoded.\r\n   *\r\n   * The options are:\r\n   * * \"default\": Integers will be decoded according to JSON.parse, meaning they will all be\r\n   *   Numbers and any values greater than Number.MAX_SAFE_INTEGER will lose precision.\r\n   * * \"safe\": All integers will be decoded as Numbers, but if any values are greater than\r\n   *   Number.MAX_SAFE_INTEGER an error will be thrown.\r\n   * * \"mixed\": Integers will be decoded as Numbers if they are less than or equal to\r\n   *   Number.MAX_SAFE_INTEGER, otherwise they will be decoded as BigInts.\r\n   * * \"bigint\": All integers will be decoded as BigInts.\r\n   *\r\n   * @param method - The method to use when parsing the\r\n   *   response for this request. Must be one of \"default\", \"safe\", \"mixed\", or \"bigint\".\r\n   * @category JSONRequest\r\n   */\r\n  setIntDecoding(method: IntDecoding) {\r\n    if (\r\n      method !== 'default' &&\r\n      method !== 'safe' &&\r\n      method !== 'mixed' &&\r\n      method !== 'bigint'\r\n    )\r\n      throw new Error(`Invalid method for int decoding: ${method}`);\r\n    this.intDecoding = method;\r\n    return this;\r\n  }\r\n}\r\n"],"mappings":"AACA,OAAOA,WAAW,MAAM,yBAAyB;AAEjD;;;;;;;AAOA,eAAc,MAAgBC,WAAW;EAQvC;;;;;;EAMAC,YAAYC,MAAkB,EAAEC,WAAyB;IACvD,IAAI,CAACC,CAAC,GAAGF,MAAM;IACf,IAAI,CAACG,KAAK,GAAG,EAAE;IACf,IAAI,CAACF,WAAW,GAAGA,WAAW,IAAIJ,WAAW,CAACO,OAAO;EACvD;EAQA;;;;;;;;EAQA;EACAC,OAAOA,CAACC,IAAU;IAChB,OAAQA,IAAwB;EAClC;EAEA;;;;;;EAMA,MAAMC,EAAEA,CAACC,OAAA,GAA+B,EAAE;IACxC,MAAMC,WAAW,GAAwB,EAAE;IAC3C,IAAI,IAAI,CAACR,WAAW,KAAK,SAAS,EAAE;MAClCQ,WAAW,CAACR,WAAW,GAAG,IAAI,CAACA,WAAW;;IAE5C,MAAMS,GAAG,GAAG,MAAM,IAAI,CAACR,CAAC,CAACS,GAAG,CAAC,IAAI,CAACC,IAAI,EAAE,EAAE,IAAI,CAACT,KAAK,EAAEK,OAAO,EAAEC,WAAW,CAAC;IAC3E,OAAO,IAAI,CAACJ,OAAO,CAACK,GAAG,CAACJ,IAAI,CAAC;EAC/B;EAEA;;;;;;EAMA,MAAMO,KAAKA,CAACL,OAAA,GAA+B,EAAE;IAC3C,MAAME,GAAG,GAAG,MAAM,IAAI,CAACR,CAAC,CAACS,GAAG,CAAC,IAAI,CAACC,IAAI,EAAE,EAAE,IAAI,CAACT,KAAK,EAAEK,OAAO,EAAE,EAAE,EAAE,KAAK,CAAC;IACzE,OAAOE,GAAG,CAACJ,IAAI;EACjB;EAEA;;;;;;;;;;;;;;;;EAgBAQ,cAAcA,CAACC,MAAmB;IAChC,IACEA,MAAM,KAAK,SAAS,IACpBA,MAAM,KAAK,MAAM,IACjBA,MAAM,KAAK,OAAO,IAClBA,MAAM,KAAK,QAAQ,EAEnB,MAAM,IAAIC,KAAK,CAAC,oCAAoCD,MAAM,EAAE,CAAC;IAC/D,IAAI,CAACd,WAAW,GAAGc,MAAM;IACzB,OAAO,IAAI;EACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}