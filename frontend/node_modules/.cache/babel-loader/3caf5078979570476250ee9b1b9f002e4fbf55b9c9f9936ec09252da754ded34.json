{"ast":null,"code":"import HTTPClient from '../client';\nimport IntDecoding from '../../types/intDecoding';\n/**\r\n * Convert a token string to a token header\r\n * @param token - The token string\r\n * @param headerIdentifier - An identifier for the token header\r\n */\nfunction convertTokenStringToTokenHeader(token = '', headerIdentifier) {\n  const tokenHeader = {};\n  if (token === '') {\n    return tokenHeader;\n  }\n  tokenHeader[headerIdentifier] = token;\n  return tokenHeader;\n}\nfunction isBaseHTTPClient(tbc) {\n  return typeof tbc.get === 'function';\n}\n/**\r\n * Abstract service client to encapsulate shared AlgodClient and IndexerClient logic\r\n */\nexport default class ServiceClient {\n  constructor(tokenHeaderIdentifier, tokenHeaderOrStrOrBaseClient, baseServer, port, defaultHeaders = {}) {\n    if (isBaseHTTPClient(tokenHeaderOrStrOrBaseClient)) {\n      // we are using a base client\n      this.c = new HTTPClient(tokenHeaderOrStrOrBaseClient);\n    } else {\n      // Accept token header as string or object\n      // - workaround to allow backwards compatibility for multiple headers\n      let tokenHeader;\n      if (typeof tokenHeaderOrStrOrBaseClient === 'string') {\n        tokenHeader = convertTokenStringToTokenHeader(tokenHeaderOrStrOrBaseClient, tokenHeaderIdentifier);\n      } else {\n        tokenHeader = tokenHeaderOrStrOrBaseClient;\n      }\n      this.c = new HTTPClient(tokenHeader, baseServer, port, defaultHeaders);\n    }\n    this.intDecoding = IntDecoding.DEFAULT;\n  }\n  /**\r\n   * Set the default int decoding method for all JSON requests this client creates.\r\n   * @param method - \\{\"default\" | \"safe\" | \"mixed\" | \"bigint\"\\} method The method to use when parsing the\r\n   *   response for request. Must be one of \"default\", \"safe\", \"mixed\", or \"bigint\". See\r\n   *   JSONRequest.setIntDecoding for more details about what each method does.\r\n   */\n  setIntEncoding(method) {\n    this.intDecoding = method;\n  }\n  /**\r\n   * Get the default int decoding method for all JSON requests this client creates.\r\n   */\n  getIntEncoding() {\n    return this.intDecoding;\n  }\n}","map":{"version":3,"names":["HTTPClient","IntDecoding","convertTokenStringToTokenHeader","token","headerIdentifier","tokenHeader","isBaseHTTPClient","tbc","get","ServiceClient","constructor","tokenHeaderIdentifier","tokenHeaderOrStrOrBaseClient","baseServer","port","defaultHeaders","c","intDecoding","DEFAULT","setIntEncoding","method","getIntEncoding"],"sources":["C:\\Users\\Aditya singh\\AlgoEase\\frontend\\node_modules\\algosdk\\src\\client\\v2\\serviceClient.ts"],"sourcesContent":["import HTTPClient from '../client';\r\nimport IntDecoding from '../../types/intDecoding';\r\nimport { BaseHTTPClient } from '../baseHTTPClient';\r\nimport { TokenHeader } from '../urlTokenBaseHTTPClient';\r\n\r\nexport type TokenHeaderIdentifier =\r\n  | 'X-Indexer-API-Token'\r\n  | 'X-KMD-API-Token'\r\n  | 'X-Algo-API-Token'\r\n  | string;\r\n\r\n/**\r\n * Convert a token string to a token header\r\n * @param token - The token string\r\n * @param headerIdentifier - An identifier for the token header\r\n */\r\nfunction convertTokenStringToTokenHeader(\r\n  token: string = '',\r\n  headerIdentifier: TokenHeaderIdentifier\r\n): TokenHeader {\r\n  const tokenHeader = {};\r\n  if (token === '') {\r\n    return tokenHeader;\r\n  }\r\n  tokenHeader[headerIdentifier] = token;\r\n  return tokenHeader as TokenHeader;\r\n}\r\n\r\nfunction isBaseHTTPClient(\r\n  tbc: string | TokenHeader | BaseHTTPClient\r\n): tbc is BaseHTTPClient {\r\n  return typeof (tbc as BaseHTTPClient).get === 'function';\r\n}\r\n\r\n/**\r\n * Abstract service client to encapsulate shared AlgodClient and IndexerClient logic\r\n */\r\nexport default abstract class ServiceClient {\r\n  /** @ignore */\r\n  c: HTTPClient;\r\n  /** @ignore */\r\n  intDecoding: IntDecoding;\r\n\r\n  constructor(\r\n    tokenHeaderIdentifier: TokenHeaderIdentifier,\r\n    tokenHeaderOrStrOrBaseClient: string | TokenHeader | BaseHTTPClient,\r\n    baseServer: string,\r\n    port?: string | number,\r\n    defaultHeaders: Record<string, any> = {}\r\n  ) {\r\n    if (isBaseHTTPClient(tokenHeaderOrStrOrBaseClient)) {\r\n      // we are using a base client\r\n      this.c = new HTTPClient(tokenHeaderOrStrOrBaseClient);\r\n    } else {\r\n      // Accept token header as string or object\r\n      // - workaround to allow backwards compatibility for multiple headers\r\n      let tokenHeader: TokenHeader;\r\n      if (typeof tokenHeaderOrStrOrBaseClient === 'string') {\r\n        tokenHeader = convertTokenStringToTokenHeader(\r\n          tokenHeaderOrStrOrBaseClient,\r\n          tokenHeaderIdentifier\r\n        );\r\n      } else {\r\n        tokenHeader = tokenHeaderOrStrOrBaseClient;\r\n      }\r\n\r\n      this.c = new HTTPClient(tokenHeader, baseServer, port, defaultHeaders);\r\n    }\r\n\r\n    this.intDecoding = IntDecoding.DEFAULT;\r\n  }\r\n\r\n  /**\r\n   * Set the default int decoding method for all JSON requests this client creates.\r\n   * @param method - \\{\"default\" | \"safe\" | \"mixed\" | \"bigint\"\\} method The method to use when parsing the\r\n   *   response for request. Must be one of \"default\", \"safe\", \"mixed\", or \"bigint\". See\r\n   *   JSONRequest.setIntDecoding for more details about what each method does.\r\n   */\r\n  setIntEncoding(method: IntDecoding) {\r\n    this.intDecoding = method;\r\n  }\r\n\r\n  /**\r\n   * Get the default int decoding method for all JSON requests this client creates.\r\n   */\r\n  getIntEncoding() {\r\n    return this.intDecoding;\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,WAAW;AAClC,OAAOC,WAAW,MAAM,yBAAyB;AAUjD;;;;;AAKA,SAASC,+BAA+BA,CACtCC,KAAA,GAAgB,EAAE,EAClBC,gBAAuC;EAEvC,MAAMC,WAAW,GAAG,EAAE;EACtB,IAAIF,KAAK,KAAK,EAAE,EAAE;IAChB,OAAOE,WAAW;;EAEpBA,WAAW,CAACD,gBAAgB,CAAC,GAAGD,KAAK;EACrC,OAAOE,WAA0B;AACnC;AAEA,SAASC,gBAAgBA,CACvBC,GAA0C;EAE1C,OAAO,OAAQA,GAAsB,CAACC,GAAG,KAAK,UAAU;AAC1D;AAEA;;;AAGA,eAAc,MAAgBC,aAAa;EAMzCC,YACEC,qBAA4C,EAC5CC,4BAAmE,EACnEC,UAAkB,EAClBC,IAAsB,EACtBC,cAAA,GAAsC,EAAE;IAExC,IAAIT,gBAAgB,CAACM,4BAA4B,CAAC,EAAE;MAClD;MACA,IAAI,CAACI,CAAC,GAAG,IAAIhB,UAAU,CAACY,4BAA4B,CAAC;KACtD,MAAM;MACL;MACA;MACA,IAAIP,WAAwB;MAC5B,IAAI,OAAOO,4BAA4B,KAAK,QAAQ,EAAE;QACpDP,WAAW,GAAGH,+BAA+B,CAC3CU,4BAA4B,EAC5BD,qBAAqB,CACtB;OACF,MAAM;QACLN,WAAW,GAAGO,4BAA4B;;MAG5C,IAAI,CAACI,CAAC,GAAG,IAAIhB,UAAU,CAACK,WAAW,EAAEQ,UAAU,EAAEC,IAAI,EAAEC,cAAc,CAAC;;IAGxE,IAAI,CAACE,WAAW,GAAGhB,WAAW,CAACiB,OAAO;EACxC;EAEA;;;;;;EAMAC,cAAcA,CAACC,MAAmB;IAChC,IAAI,CAACH,WAAW,GAAGG,MAAM;EAC3B;EAEA;;;EAGAC,cAAcA,CAAA;IACZ,OAAO,IAAI,CAACJ,WAAW;EACzB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}